import { Playground, Attributes } from 'lib/components'
import { useToasts, Button, Spacer, Link } from 'components'

export const meta = {
  title: 'useToast',
  group: 'Enhancement',
  index: 12,
}

# useToast

Display an important message globally.

<Playground
  desc="Basic usage."
  scope={{ Button, useToasts }}
  code={`
() => {
  const { setToast } = useToasts()
  const click = () => setToast({ text: 'HTTP is stateless, but not sessionless.', delay: 2000 })
  return <Button scale={2/3} auto onClick={click}>Show Toast</Button>
}
`}
/>

<Playground
  title="Multiline"
  desc="Display multiline or overlong text."
  scope={{ Button, useToasts }}
  code={`
() => {
  const { setToast } = useToasts()
  const click = () => setToast({ text: 'HTTP is a protocol which allows the fetching of resources, such as HTML documents. It is the foundation of any data exchange on the Web and it is a client-server protocol, which means requests are initiated by the recipient, usually the Web browser. A complete document is reconstructed from the different sub-documents fetched, for instance text, layout description, images, videos, scripts, and more.' })
  return <Button scale={2/3} auto onClick={click}>Show Toast</Button>
}
`}
/>

<Playground
  title="Action"
  desc="Add a custom button to the Toast."
  scope={{ Button, useToasts }}
  code={`
() => {
  const { setToast } = useToasts()
  const action = {
    name: 'alert',
    handler: () => alert('alert from toast')
  }
  const click = () => setToast({
    text: 'HTTP is stateless, but not sessionless.',
    actions: [action],
  })
  return <Button scale={2/3} auto onClick={click} type="secondary">Show Action</Button>
}
`}
/>

<Playground
  title="Cancel"
  desc="Use `passive` to change the style of the button."
  scope={{ Button, useToasts }}
  code={`
() => {
  const { setToast } = useToasts()
  const action = {
    name: 'cancel',
    passive: true,
    handler: (event, cancel) => cancel()
  }
  const click = () => setToast({
    text: 'HTTP is stateless, but not sessionless.',
    actions: [action],
  })
  return <Button scale={2/3} auto onClick={click}>Show Toast</Button>
}
`}
/>

<Playground
  title="ReactNode"
  desc="Show more information by replacing the string with a `ReactNode`."
  scope={{ Button, useToasts, Link }}
  code={`
() => {
  const { setToast } = useToasts()
  const click = () => setToast({
    text: <p>Click the <Link target="_blank" color block href="https://github.com/red-ninjas/himalaya-ui">URL</Link> to learn more</p>,
    delay: 4000,
  })
  return <Button scale={2/3} auto onClick={click}>Show Toast</Button>
}
`}
/>

<Playground
  title="Type"
  scope={{ Button, useToasts, Spacer }}
  code={`
() => {
  const { setToast } = useToasts()
  const click = type => setToast({
    text: 'HTTP is stateless, but not sessionless.',
    type,
  })
  return (
    <>
    <Button scale={2/3} auto onClick={() => click('success')} type="success">Show Success</Button>
    <Spacer inline w={.5} />
    <Button scale={2/3} auto onClick={() => click('warning')} type="warning">Show Warning</Button>
    </>
  )
}
`}
/>

<Attributes component="useToasts" edit="/app/hooks/use-toast.mdx"></Attributes>
