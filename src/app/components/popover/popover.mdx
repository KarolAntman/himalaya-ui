import { Playground, Attributes } from 'lib/components'
import { Popover, Spacer, Link } from 'components'
import { useState } from 'react'

export const meta = {
  title: 'Popover',
  group: 'Data Display',
}

# Popover

The floating box popped by clicking or hovering.

<Playground
  scope={{ Popover, Spacer, Link }}
  code={`
() => {
  const content = () => (
    <div style={{ padding: '0 10px' }}>
      <Link href="#">A hyperlink</Link>
      <Spacer h={.5} />
      <Link color href="#">External link</Link>
    </div>
  )
  return (
    <Popover content={content}>
      Menu
    </Popover>
  )
}
`}
/>

<Playground
  title="Preset Item"
  desc="Use preset `Item` component build layout."
  scope={{ Popover, Spacer, Link }}
  code={`
() => {
  const content = () => (
    <>
      <Popover.Item title>
        <span>User Settings</span>
      </Popover.Item>
      <Popover.Item>
        <Link href="#">A hyperlink</Link>
      </Popover.Item>
      <Popover.Item>
        <Link color href="#">A hyperlink for edit profile</Link>
      </Popover.Item>
      <Popover.Item line />
      <Popover.Item>
        <span>Command-Line</span>
      </Popover.Item>
    </>
  )
  return (
    <Popover content={content}>
      Menu
    </Popover>
  )
}
`}
/>

<Playground
  title="Close Manual"
  desc="You can control when to close the pop-up box."
  scope={{ Popover, Spacer, Link, useState }}
  code={`
() => {
  const [visible, setVisible] = useState(false)
  const changeHandler = (next) => {
    setVisible(next)
  }
  const content = () => (
    <div style={{ padding: '0 10px' }}>
      <span onClick={() => setVisible(false)}>Click to close</span>
      <Spacer h={.5} />
      <span>Nothing</span>
    </div>
  )
  return (
    <Popover content={content} visible={visible}
      onVisibleChange={changeHandler}>
      Menu
    </Popover>
  )
}
`}
/>

<Attributes component="Popover" edit="/app/components/popover.mdx"></Attributes>
